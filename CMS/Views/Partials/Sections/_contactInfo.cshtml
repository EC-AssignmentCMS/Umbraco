@using Umbraco.Cms.Web.Common.PublishedModels
@using Umbraco.Cms.Core.Models
@using Umbraco.Extensions
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@{
    var siteSettings = Umbraco.ContentAtRoot()
        .DescendantsOrSelf<SiteSettings>()
        .FirstOrDefault();

    var address = siteSettings?.Address;
    var phone = siteSettings?.PhoneNumber;
    var email = siteSettings?.EMailAddress;
        
    var bgColor = Model.Value<string>("backgroundColor") ?? "#ffffff";
    var bgImage = Model.Value<MediaWithCrops>("contactBackgroundImage");
}

<section class="contact-info" style="background-color:@bgColor;">

    <div class="contact-img-container">
        @if (bgImage != null)
        {
            <img src="@bgImage.Url()" alt="@bgImage.Name" />
        }
    </div>

    <div class="info-container">

        <h4>Let us know about your next project</h4>

        <div class="inner-info-container">
            <i class="fa-solid fa-location-dot"></i>
            <h3 class="info-heading location">Office location</h3>
            @if (!string.IsNullOrWhiteSpace(address))
            {
                <a href="https://www.google.com/maps/search/@address" target="_blank">@address</a>
            }
        </div>

        <div class="inner-info-container">
            <i class="fa-solid fa-phone"></i>
            <h3 class="info-heading phone">Phone number</h3>
            @if (!string.IsNullOrWhiteSpace(phone))
            {
                <a href="tel:@phone">@phone</a>
            }
        </div>

        <div class="inner-info-container">
            <i class="fa-solid fa-envelope"></i>
            <h3 class="info-heading email">E-mail address</h3>
            @if (!string.IsNullOrWhiteSpace(email))
            {
                <a href="mailto:@email">@email</a>
            }
        </div>

    </div>
</section>
